var ldata=[{id:1,tuan:1,thoi_gian:"6h30 12/08/2013",content:"just a test"},{id:2,tuan:2,thoi_gian:"6h30 19/08/2013",content:"just a test "}],LichGiangDay=React.createClass({displayName:"LichGiangDay",getInitialState:function(){return{data:[]}},loadData:function(){$.ajax({url:"/teacher/lop/"+this.props.lop+"/lich_trinh_giang_days/content",success:function(t){this.setState({data:t})}.bind(this)})},handleUpdate:function(t){$.ajax({url:"/teacher/lop/"+this.props.lop+"/lich_trinh_giang_days/content",type:"POST",data:t,success:function(t){this.setState({data:t})}.bind(this)})},componentDidMount:function(){this.loadData()},render:function(){var t=this,a=this.state.data.map(function(a){return a.updated===!0?RowLichGiangDay({onUpdate:t.handleUpdate,data:a}):DisabledRowLichGiangDay({data:a})});return React.DOM.ul(null,a)}}),DisabledRowLichGiangDay=React.createClass({displayName:"DisabledRowLichGiangDay",render:function(){return React.DOM.li(null,React.DOM.a({href:"/lich/"+this.props.data.id},React.DOM.strong(null,"Tuần: ",this.props.data.tuan,", ",this.props.data.thoi_gian)),React.DOM.div(null,React.DOM.span({dangerouslySetInnerHTML:{__html:this.props.data.content_html}})),React.DOM.hr(null))}}),RowLichGiangDay=React.createClass({displayName:"RowLichGiangDay",getInitialState:function(){return{edit:0}},onEdit:function(){this.setState({edit:1})},onCancel:function(){this.setState({edit:0})},onUpdate:function(){var t=this.refs.content.getDOMNode().value;this.setState({edit:0}),this.props.data.content=t,this.props.onUpdate(this.props.data)},componentDidUpdate:function(){1===this.state.edit&&(this.refs.content.getDOMNode().value=this.props.data.content)},render:function(){return 0===this.state.edit?React.DOM.li(null,React.DOM.a({href:"/lich/"+this.props.data.id},React.DOM.strong(null,"Tuần: ",this.props.data.tuan,", ",this.props.data.thoi_gian)),React.DOM.div(null,React.DOM.span({dangerouslySetInnerHTML:{__html:this.props.data.content_html}})),React.DOM.button({onClick:this.onEdit,className:"btn btn-sm btn-default curl-top-left"},"Sửa nội dung"),React.DOM.hr(null)):React.DOM.li(null,React.DOM.a({href:"/lich/"+this.props.data.id},React.DOM.strong(null,"Tuần: ",this.props.data.tuan,", ",this.props.data.thoi_gian)),React.DOM.div(null,React.DOM.textarea({ref:"content",className:"expanding",placeholder:"Nội dung buổi học...",style:{width:"100%",minHeight:200}})),React.DOM.button({onClick:this.onCancel,className:"btn btn-sm btn-default curl-top-left"},"Hủy"),React.DOM.button({onClick:this.onUpdate,className:"btn btn-sm btn-primary curl-top-left"},"Cập nhật"),React.DOM.hr(null))}});