var Enrollment=React.createClass({displayName:"Enrollment",render:function(){var t={"Không vắng":"btn btn-success btn-sm",Vắng:"btn btn-danger btn-sm",Trễ:"btn btn-warning btn-sm","Không học":"btn btn-primary btn-sm"};return React.DOM.tr(null,React.DOM.td(null,this.props.stt),React.DOM.td(null,this.props.name),React.DOM.td(null,this.props.code),React.DOM.td(null,React.DOM.button({onClick:this.props.on_vang,className:t[this.props.status]},"v")),React.DOM.td(null,React.DOM.button({onClick:this.props.on_plus,className:"btn btn-default btn-sm"},"+"),"   ",this.props.so_tiet_vang,"   ",React.DOM.button({onClick:this.props.on_minus,className:"btn btn-default btn-sm"},"-")),React.DOM.td(null,this.props.phep))}}),Enrollments=React.createClass({displayName:"Enrollments",loadEnrollmentsFromServer:function(){$.ajax({url:this.props.url,success:function(t){this.setState({data:t})}.bind(this)})},componentWillMount:function(){this.loadEnrollmentsFromServer()},getInitialState:function(){return{data:[]}},handleVang:function(t,n){var e={lich_id:n,enrollment:t};$.ajax({url:this.props.url,type:"POST",data:e,success:function(t){var n=this.state.data.filter(function(n){return n.id===t.id})[0];n.name=t.name,n.code=t.code,n.so_tiet_vang=t.so_tiet_vang,n.phep=t.phep,n.status=t.status,this.forceUpdate()}.bind(this)})},render:function(){var t=this,n=this.state.data.map(function(n,e){return Enrollment({on_vang:t.handleVang.bind(t,n,t.props.lich),stt:e,so_tiet_vang:n.so_tiet_vang,phep:n.phep,key:n.id,name:n.name,code:n.code,status:n.status})});return React.DOM.div(null,React.DOM.h6(null,"Thông tin điểm danh:"),React.DOM.table({className:"table table-bordered table-condensed"},React.DOM.thead(null,React.DOM.td(null,"Stt"),React.DOM.td(null,"Họ tên"),React.DOM.td(null,"Mã sinh viên"),React.DOM.td(null,"Vắng"),React.DOM.td(null,"Số tiết vắng"),React.DOM.td(null,"Phép")),React.DOM.tbody(null,n)))}}),Lop=React.createClass({displayName:"Lop",loadLichsFromServer:function(){$.ajax({url:this.props.url,success:function(t){this.setState({data:t})}.bind(this)})},componentWillMount:function(){this.loadLichsFromServer()},getInitialState:function(){return{data:[]}},render:function(){return React.DOM.div(null,React.DOM.h6(null,"Thông tin lớp học"),React.DOM.table({className:"table table-bordered"},React.DOM.thead(null,React.DOM.td(null,"Mã lớp"),React.DOM.td(null,"Tên môn học"),React.DOM.td(null,"Giảng viên")),React.DOM.tbody(null,React.DOM.tr(null,React.DOM.td(null,this.state.data.ma_lop),React.DOM.td(null,this.state.data.ten_mon_hoc),React.DOM.td(null,"GV")))))}}),Lich=React.createClass({displayName:"Lich",loadLichFromServer:function(){$.ajax({url:this.props.url,success:function(t){this.setState({data:t})}.bind(this)})},componentWillMount:function(){this.loadLichFromServer()},getInitialState:function(){return{data:[]}},render:function(){return React.DOM.div(null,React.DOM.h6(null,"Thông tin buổi học"),React.DOM.table({className:"table table-bordered"},React.DOM.thead(null,React.DOM.td(null,"Phòng"),React.DOM.td(null,"Thực hành"),React.DOM.td(null,"Số sinh viên có mặt"),React.DOM.td(null,"Số sinh viên vắng"),React.DOM.td(null,"Trạng thái")),React.DOM.tbody(null,React.DOM.tr(null,React.DOM.td(null,this.state.data.phong),React.DOM.td(null,this.state.data.thuc_hanh),React.DOM.td(null,this.state.data.sv_co_mat),React.DOM.td(null,this.state.data.sv_vang_mat),React.DOM.td(null,"TT")))))}});React.renderComponent(Lop({url:"/lop/"+ENV.lop_id+"/info",lop:ENV.lop_id}),document.getElementById("lop")),React.renderComponent(Lich({url:"/lich/"+ENV.lich_id+"/info",lich:ENV.lich_id}),document.getElementById("lich")),React.renderComponent(Enrollments({url:"/lich/"+ENV.lich_id+"/enrollments.json",lich:ENV.lich_id}),document.getElementById("main"));