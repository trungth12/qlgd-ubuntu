var ThanhTra=React.createClass({displayName:"ThanhTra",getInitialState:function(){return{data:[]}},loadData:function(){$.ajax({url:"/teacher/lich_trinh_giang_days/thanhtra",success:function(t){this.setState({data:t})}.bind(this)})},handleUpdate:function(t){$.ajax({url:"/teacher/lich_trinh_giang_days/thanhtraupdate",type:"POST",data:t,success:function(t){this.setState({data:t})}.bind(this)})},handleAccept:function(t){$.ajax({url:"/teacher/lich_trinh_giang_days/accept",type:"POST",data:t,success:function(t){this.setState({data:t})}.bind(this)})},handleRequest:function(t){$.ajax({url:"/teacher/lich_trinh_giang_days/request",type:"POST",data:t,success:function(t){this.setState({data:t})}.bind(this)})},componentWillMount:function(){this.loadData()},render:function(){var t=this;if(this.state.data.length>0){var a=this.state.data.map(function(a,e){return ThanhTraRow({date:t.state.date,onAccept:t.handleAccept,onRequest:t.handleRequest,onUpdate:t.handleUpdate,data:a,stt:e+1,color:e%2===0?"danger":"warning"})});return React.DOM.div(null,React.DOM.hr(null),React.DOM.div({className:"table-responsive"},React.DOM.table({className:"table table-bordered"},React.DOM.colgroup(null,React.DOM.col({style:{width:"5%"}}),React.DOM.col({style:{width:"30%"}}),React.DOM.col({style:{width:"10%"}}),React.DOM.col({style:{width:"15%"}}),React.DOM.col({style:{width:"15%"}}),React.DOM.col({style:{width:"15%"}}),React.DOM.col({style:{width:"10%"}})),React.DOM.thead(null,React.DOM.tr({className:"success"},React.DOM.td(null,"Stt"),React.DOM.td(null,"Giờ học"),React.DOM.td(null,"Báo lỗi"),React.DOM.td(null,"Note 1"),React.DOM.td(null,"Note 2"),React.DOM.td(null,"Note 3"),React.DOM.td(null,"Thao tác"))),React.DOM.tbody(null,a))))}return React.DOM.div(null)}}),ThanhTraRow=React.createClass({displayName:"ThanhTraRow",getInitialState:function(){return{edit:0}},onEdit:function(){this.setState({edit:1})},onCancel:function(){this.setState({edit:0})},onUpdate:function(){this.setState({edit:0});var t=this.refs.note2.getDOMNode().value;this.props.onUpdate({lich_id:this.props.data.id,note2:t})},onAccept:function(){this.props.onAccept({lich_id:this.props.data.id})},onRequest:function(){this.props.onRequest({lich_id:this.props.data.id})},componentDidUpdate:function(){1===this.state.edit&&(this.refs.note2.getDOMNode().value=this.props.data.note2)},render:function(){return 0===this.state.edit?React.DOM.tr({className:this.props.color},React.DOM.td(null,this.props.stt),React.DOM.td(null,React.DOM.span({dangerouslySetInnerHTML:{__html:this.props.data.info}})),React.DOM.td(null,React.DOM.span({className:this.props.data.di_muon_color},this.props.data.di_muon_alias),React.DOM.br(null),React.DOM.br(null),React.DOM.span({className:this.props.data.ve_som_color},this.props.data.ve_som_alias),React.DOM.br(null),React.DOM.br(null),React.DOM.span({className:this.props.data.bo_tiet_color},this.props.data.bo_tiet_alias)),React.DOM.td(null,React.DOM.span({dangerouslySetInnerHTML:{__html:this.props.data.note1_html}})),React.DOM.td(null,React.DOM.span({dangerouslySetInnerHTML:{__html:this.props.data.note2_html}})),React.DOM.td(null,React.DOM.span({dangerouslySetInnerHTML:{__html:this.props.data.note3_html}})),React.DOM.td(null,React.DOM.button({style:{display:this.props.data.can_giang_vien_edit===!0?"":"none"},onClick:this.onEdit,className:"btn btn-sm btn-success"},"Edit"),React.DOM.button({style:{display:this.props.data.can_accept===!0?"":"none"},onClick:this.onAccept,className:"btn btn-sm btn-primary"},"Chấp nhận"),React.DOM.button({style:{display:this.props.data.can_request===!0?"":"none"},onClick:this.onRequest,className:"btn btn-sm btn-warning"},"Yêu cầu xác minh"))):React.DOM.tr({className:this.props.color},React.DOM.td(null,this.props.stt),React.DOM.td(null,React.DOM.span({dangerouslySetInnerHTML:{__html:this.props.data.info}})),React.DOM.td(null,React.DOM.span({className:this.props.data.di_muon_color},this.props.data.di_muon_alias),React.DOM.br(null),React.DOM.br(null),React.DOM.span({className:this.props.data.ve_som_color},this.props.data.ve_som_alias),React.DOM.br(null),React.DOM.br(null),React.DOM.span({className:this.props.data.bo_tiet_color},this.props.data.bo_tiet_alias)),React.DOM.td(null,this.props.data.note1),React.DOM.td(null,React.DOM.textarea({ref:"note2",style:{width:"100%",height:"200px"}})),React.DOM.td(null,this.props.data.note3),React.DOM.td(null,React.DOM.button({onClick:this.onCancel,className:"btn btn-sm btn-default"},"Hủy"),React.DOM.button({onClick:this.onUpdate,className:"btn btn-sm btn-success"},"Cập nhật"),React.DOM.button({style:{display:this.props.data.can_giang_vien_edit===!0?"":"none"},onClick:this.onEdit,className:"btn btn-sm btn-success"},"Edit"),React.DOM.button({style:{display:this.props.data.can_accept===!0?"":"none"},onClick:this.onAccept,className:"btn btn-sm btn-primary"},"Chấp nhận"),React.DOM.button({style:{display:this.props.data.can_request===!0?"":"none"},onClick:this.onRequest,className:"btn btn-sm btn-warning"},"Yêu cầu xác minh")))}}),hdata=[{tuan:1,colapse:"colapseOne",active:!1,data:[{id:1,thoi_gian:"6h30 12/08/2013",phong:"A103",so_tiet:3,ma_lop:"ml",ten_mon_hoc:"tm",alias_state:"Bình thường",alias_status:"Đang chờ",color:"warning"},{id:2,thoi_gian:"6h30 12/08/2013",phong:"A103",so_tiet:3,ma_lop:"ml",ten_mon_hoc:"tm",alias_state:"Bình thường",alias_status:"Được chấp nhận",color:"info"},{id:3,thoi_gian:"6h30 12/08/2013",phong:"A103",so_tiet:3,ma_lop:"ml",ten_mon_hoc:"tm",alias_state:"Bình thường",alias_status:"Đang chờ"}]},{tuan:2,colapse:"colapseTwo",active:!0,data:[{id:4,thoi_gian:"6h30 12/08/2013",phong:"A103",so_tiet:3,ma_lop:"ml",ten_mon_hoc:"tm",alias_state:"Bình thường",alias_status:"Đang chờ"},{id:5,thoi_gian:"6h30 12/08/2013",phong:"A103",so_tiet:3,ma_lop:"ml",ten_mon_hoc:"tm",alias_state:"Bình thường",alias_status:"Đang chờ"}]},{tuan:3,colapse:"colapseThree",active:!1,data:[{id:6,thoi_gian:"6h30 12/08/2013",phong:"A103",so_tiet:3,ma_lop:"ml",ten_mon_hoc:"tm",alias_state:"Bình thường",alias_status:"Đang chờ"}]}],Home2=React.createClass({displayName:"Home2",getInitialState:function(){return{data:[]}},loadData:function(){$.ajax({url:"/teacher/lich_trinh_giang_days",success:function(t){this.setState({data:t})}.bind(this)})},componentWillMount:function(){this.loadData()},render:function(){var t=this.state.data.map(function(t){return Tuan({colapse:t.colapse,active:t.active,key:t.tuan.id,tuan:t.tuan,data:t.data})});return React.DOM.div({className:"panel-group",id:"accordion"},t)}}),Tuan=React.createClass({displayName:"Tuan",render:function(){var t=this.props.data.map(function(t,a){return TuanRow({color:(a+1)%2===0?"danger":"warning",data:t})});return React.DOM.div({className:"panel panel-default"},React.DOM.div({className:"panel-heading"},React.DOM.h4({className:"panel-title"},React.DOM.a({"data-toggle":"collapse","data-parent":"#accordion",href:"#"+this.props.colapse},"Tuần "+this.props.tuan.stt," (",this.props.tuan.tu_ngay2," - ",this.props.tuan.den_ngay2,") "))),React.DOM.div({id:this.props.colapse,className:"panel-collapse collapse "+(this.props.active===!0?"in":"")},React.DOM.div({className:"panel-body"},React.DOM.div({className:"table-responsive"},React.DOM.table({className:"table table-bordered"},React.DOM.thead({style:{"font-weight":"bold"}},React.DOM.tr({className:"success"},React.DOM.td(null,"Thứ"),React.DOM.td(null,"Thời gian"),React.DOM.td(null,"Tiết bắt đầu"),React.DOM.td(null,"Số tiết"),React.DOM.td(null,"Giờ học"),React.DOM.td(null,"Phòng"),React.DOM.td(null,"Mã lớp"),React.DOM.td(null,"Môn"),React.DOM.td(null,"Loại"),React.DOM.td(null,"Trạng thái"))),React.DOM.tbody(null,t))))))}}),TuanRow=React.createClass({displayName:"TuanRow",render:function(){var t={"font-weight":this.props.data.active===!0?"bold":""};return React.DOM.tr({style:t,className:this.props.color},React.DOM.td(null,this.props.data.thu),React.DOM.td(null,React.DOM.a({href:"/lich/"+this.props.data.id},this.props.data.thoi_gian)),React.DOM.td(null,this.props.data.tiet_bat_dau),React.DOM.td(null,this.props.data.so_tiet),React.DOM.td(null,this.props.data.type_status),React.DOM.td(null,this.props.data.phong),React.DOM.td(null,this.props.data.ma_lop),React.DOM.td(null,this.props.data.ten_mon_hoc),React.DOM.td(null,this.props.data.alias_state),React.DOM.td(null,React.DOM.span({className:this.props.data.color_status},this.props.data.alias_status)))}}),LopHome=React.createClass({displayName:"LopHome",getInitialState:function(){return{data:[]}},loadData:function(){$.ajax({url:"/teacher/lops",success:function(t){this.setState({data:t})}.bind(this)})},componentWillMount:function(){this.loadData()},render:function(){var t=this.state.data.map(function(t){return LopRow({data:t})});return React.DOM.div({className:"table-responsive"},React.DOM.table({className:"table table-bordered"},React.DOM.thead(null,React.DOM.td(null,"Lớp"),React.DOM.td(null,"Môn"),React.DOM.td(null,"Khối lượng dự kiến"),React.DOM.td(null,"Khối lượng thực hiện"),React.DOM.td(null,"Sĩ số"),React.DOM.td(null,"Đã cấu hình")),React.DOM.tbody(null,t)))}}),LopRow=React.createClass({displayName:"LopRow",render:function(){return React.DOM.tr(null,React.DOM.td(null,React.DOM.a({href:"/lop/"+this.props.data.id},this.props.data.ma_lop)),React.DOM.td(null,this.props.data.ten_mon_hoc),React.DOM.td(null,this.props.data.khoi_luong_du_kien),React.DOM.td(null,this.props.data.khoi_luong_thuc_hien),React.DOM.td(null,this.props.data.si_so),React.DOM.td(null,this.props.data.updated===!1?"Chưa cấu hình":"Đã cấu hình"))}});React.renderComponent(Home2(null),document.getElementById("main")),React.renderComponent(LopHome(null),document.getElementById("dslop")),React.renderComponent(ThanhTra(null),document.getElementById("thanhtra"));